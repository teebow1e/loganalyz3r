<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox fx:id="mainVBox" id="mainVBox" stylesheets="@../../../css/Dashboard.css" HBox.hgrow="ALWAYS" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.DashboardController">
    <HBox alignment="CENTER" spacing="10">
        <Label text="Time Interval" />
        <ComboBox fx:id="timeIntervalComboBox" />
        <Label text="Date" />
        <DatePicker fx:id="datePicker" />
        <Label text="Hour" />
        <ComboBox fx:id="startTimeComboBox" />
        <VBox.margin>
            <Insets top="10.0" />
        </VBox.margin>
    </HBox>

    <BarChart fx:id="logBarChart" animated="false" barGap="5.0" categoryGap="20.0" prefWidth="920.0">
        <xAxis>
            <CategoryAxis />
        </xAxis>
        <yAxis>
            <NumberAxis fx:id="yAxis" forceZeroInRange="true" minorTickCount="0" tickUnit="1.0" />
        </yAxis>
    </BarChart>

    <HBox alignment="CENTER" spacing="10.0">
        <TableView fx:id="statusCodeRankingTable" prefHeight="150.0" prefWidth="300.0" styleClass="status-code-table">
            <columns>
                <TableColumn fx:id="statusCodeColumn" text="Status Code" />
                <TableColumn fx:id="statusCodeCountColumn" text="Count" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>
        <TableView fx:id="timestampRankingTable" prefHeight="150.0" prefWidth="300.0" styleClass="timestamp-table">
            <columns>
                <TableColumn fx:id="timestampColumn" text="Timestamp" />
                <TableColumn fx:id="timestampCountColumn" text="Log Count" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>
        <TableView fx:id="ipRankingTable" prefHeight="150.0" prefWidth="300.0" styleClass="ip-table">
            <columns>
                <TableColumn fx:id="ipColumn" text="IP Address" />
                <TableColumn fx:id="ipCountColumn" text="Count" />
                <TableColumn fx:id="ipCountryColumn" text="Country" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>

        <padding>
            <Insets bottom="10.0" />
        </padding>
    </HBox>

    <HBox alignment="CENTER">
        <TableView fx:id="ruleCountTable" maxWidth="1000.0" prefHeight="150.0" prefWidth="920.0" styleClass="rule-count-table">
            <columns>
                <TableColumn fx:id="modsecRuleColumn" maxWidth="1000.0" minWidth="600.0" prefWidth="-1.0" text="Rule" />
                <TableColumn fx:id="modsecRuleCountColumn" prefWidth="75.0" text="Count" />
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>
    </HBox>
</VBox>
